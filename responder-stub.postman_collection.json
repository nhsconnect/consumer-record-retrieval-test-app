{
	"info": {
		"_postman_id": "628f9e81-a488-4dda-83b4-637ca854b78a",
		"name": "responder-stub",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Success",
			"item": [
				{
					"name": "JSON",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is OK\", () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"response is JSON\", () => {",
									"    pm.response.to.have.header(\"Content-Type\");",
									"    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/fhir+json\");",
									"});",
									"",
									"pm.test(\"response has body\", () => {",
									"    pm.response.to.be.withBody;",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "XML",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "80a94487-c754-40f1-84fc-f98ae3a248af",
								"exec": [
									"pm.test(\"response is OK\", () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"response is XML\", () => {",
									"    pm.response.to.have.header(\"Content-Type\");",
									"    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/fhir+xml\");",
									"});",
									"",
									"pm.test(\"response has body\", () => {",
									"    pm.response.to.be.withBody;",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{xmlPath}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{xmlPath}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "HTML",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "50da426b-f2c8-487e-8145-f57545806f0f",
								"exec": [
									"pm.test(\"response is OK\", () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"response is HTML\", () => {",
									"    pm.response.to.have.header(\"Content-Type\");",
									"    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"text/html\");",
									"});",
									"",
									"pm.test(\"response has body\", () => {",
									"    pm.response.to.be.withBody;",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{htmlPath}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{htmlPath}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "PDF",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "8443ccc7-9e47-4507-82cf-68ce91b987df",
								"exec": [
									"pm.test(\"response is OK\", () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"response is PDF\", () => {",
									"    pm.response.to.have.header(\"Content-Type\");",
									"    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/pdf\");",
									"});",
									"",
									"pm.test(\"response has body\", () => {",
									"    pm.response.to.be.withBody;",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{pdfPath}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{pdfPath}}"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Bad Provider URL",
			"item": [
				{
					"name": "Provider Nonexistent",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b78ccd15-cf5a-44a2-9461-f5772bee19fe",
								"exec": [
									"pm.test(\"response is NotFound\", () => {",
									"    pm.response.to.have.status(404);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/https%3A%2F%2Fnonexistent.example.com%2Fapi%2Fpatients%2F{{patient}}%2Frecords%2F{{record}}.json",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"https%3A%2F%2Fnonexistent.example.com%2Fapi%2Fpatients%2F{{patient}}%2Frecords%2F{{record}}.json"
							]
						}
					},
					"response": []
				},
				{
					"name": "Unparsable URL",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "467ef630-6985-4b6a-a4e6-698c28318e40",
								"exec": [
									"{",
									"    const responseCode = pm.environment.get('ENV_NAME') === 'LOCAL'",
									"        ? 400",
									"        : 404;",
									"",
									"    pm.test(\"response is BadRequest\", () => {",
									"        pm.response.to.have.status(responseCode);",
									"    });",
									"}",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/https!!",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"https!!"
							]
						}
					},
					"response": []
				},
				{
					"name": "Patient Nonexistent",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "4ea156b1-f62d-449d-ad8d-1a5763c6e778",
								"exec": [
									"pm.test(\"response is NotFound\", () => {",
									"    pm.response.to.have.status(404);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/https%3A%2F%2F{{provider}}.example.com%2Fapi%2Fpatients%2F_____%2Frecords%2F{{record}}.json",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"https%3A%2F%2F{{provider}}.example.com%2Fapi%2Fpatients%2F_____%2Frecords%2F{{record}}.json"
							]
						}
					},
					"response": []
				},
				{
					"name": "Record Nonexistent",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "2d0eaa38-8905-4760-9ee3-62f02d24ceb8",
								"exec": [
									"pm.test(\"response is NotFound\", () => {",
									"    pm.response.to.have.status(404);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/https%3A%2F%2F{{provider}}.example.com%2Fapi%2Fpatients%2F{{patient}}%2Frecords%2F_____.json",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"https%3A%2F%2F{{provider}}.example.com%2Fapi%2Fpatients%2F{{patient}}%2Frecords%2F_____.json"
							]
						}
					},
					"response": []
				},
				{
					"name": "Format Nonexistent",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "5ac2889c-56ee-4db0-a659-979d63ed9b0b",
								"exec": [
									"pm.test(\"response is NotFound\", () => {",
									"    pm.response.to.have.status(404);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/https%3A%2F%2F{{provider}}.example.com%2Fapi%2Fpatients%2F{{patient}}%2Frecords%2F{{record}}._____",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"https%3A%2F%2F{{provider}}.example.com%2Fapi%2Fpatients%2F{{patient}}%2Frecords%2F{{record}}._____"
							]
						}
					},
					"response": []
				},
				{
					"name": "Incorrect URL Format",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "5ac2889c-56ee-4db0-a659-979d63ed9b0b",
								"exec": [
									"pm.test(\"response is NotFound\", () => {",
									"    pm.response.to.have.status(404);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"type": "text",
								"value": "{{sspTraceId}}"
							},
							{
								"key": "Ssp-From",
								"type": "text",
								"value": "{{sspFrom}}"
							},
							{
								"key": "Ssp-To",
								"type": "text",
								"value": "{{sspTo}}"
							},
							{
								"key": "Ssp-InteractionID",
								"type": "text",
								"value": "{{sspInteractionId}}"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/https%3A%2F%2F{{provider}}.example.com%2F{{record}}.json",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"https%3A%2F%2F{{provider}}.example.com%2F{{record}}.json"
							]
						}
					},
					"response": []
				},
				{
					"name": "Incorrect Percent Encoding",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "5ac2889c-56ee-4db0-a659-979d63ed9b0b",
								"exec": [
									"{",
									"    ",
									"    const responseCode = pm.environment.get('ENV_NAME') === 'LOCAL'",
									"        ? 400",
									"        : 404;",
									"",
									"    pm.test(\"response is BadRequest\", () => {",
									"        pm.response.to.have.status(responseCode);",
									"    });",
									"}",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"type": "text",
								"value": "{{sspTraceId}}"
							},
							{
								"key": "Ssp-From",
								"type": "text",
								"value": "{{sspFrom}}"
							},
							{
								"key": "Ssp-To",
								"type": "text",
								"value": "{{sspTo}}"
							},
							{
								"key": "Ssp-InteractionID",
								"type": "text",
								"value": "{{sspInteractionId}}"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/https://{{provider}}.example.com/api/patients/{{patient}}/records/{{record}}.json",
							"protocol": "{{mockSspEndpoint}}/https",
							"host": [
								"{{provider}}",
								"example",
								"com"
							],
							"path": [
								"api",
								"patients",
								"{{patient}}",
								"records",
								"{{record}}.json"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Bad SSP Headers",
			"item": [
				{
					"name": "No Ssp-TraceID",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"type": "text",
								"value": "{{sspTraceId}}",
								"disabled": true
							},
							{
								"key": "Ssp-From",
								"type": "text",
								"value": "{{sspFrom}}"
							},
							{
								"key": "Ssp-To",
								"type": "text",
								"value": "{{sspTo}}"
							},
							{
								"key": "Ssp-InteractionID",
								"type": "text",
								"value": "{{sspInteractionId}}"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "No Ssp-From",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "No Ssp-To",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"type": "text",
								"value": "{{sspTraceId}}"
							},
							{
								"key": "Ssp-From",
								"type": "text",
								"value": "{{sspFrom}}"
							},
							{
								"key": "Ssp-To",
								"type": "text",
								"value": "{{sspTo}}",
								"disabled": true
							},
							{
								"key": "Ssp-InteractionID",
								"type": "text",
								"value": "{{sspInteractionId}}"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "No Ssp-InteractionID",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Empty Ssp-TraceID",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"type": "text",
								"value": ""
							},
							{
								"key": "Ssp-From",
								"type": "text",
								"value": "{{sspFrom}}"
							},
							{
								"key": "Ssp-To",
								"type": "text",
								"value": "{{sspTo}}"
							},
							{
								"key": "Ssp-InteractionID",
								"type": "text",
								"value": "{{sspInteractionId}}"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Empty Ssp-From",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"type": "text",
								"value": "{{sspTraceId}}"
							},
							{
								"key": "Ssp-From",
								"type": "text",
								"value": ""
							},
							{
								"key": "Ssp-To",
								"type": "text",
								"value": "{{sspTo}}"
							},
							{
								"key": "Ssp-InteractionID",
								"type": "text",
								"value": "{{sspInteractionId}}"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Empty Ssp-To",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"type": "text",
								"value": "{{sspTraceId}}"
							},
							{
								"key": "Ssp-From",
								"type": "text",
								"value": "{{sspFrom}}"
							},
							{
								"key": "Ssp-To",
								"type": "text",
								"value": ""
							},
							{
								"key": "Ssp-InteractionID",
								"type": "text",
								"value": "{{sspInteractionId}}"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Empty Ssp-InteractionID",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Invalid Ssp-TraceID",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"type": "text",
								"value": "0000"
							},
							{
								"key": "Ssp-From",
								"type": "text",
								"value": "{{sspFrom}}"
							},
							{
								"key": "Ssp-To",
								"type": "text",
								"value": "{{sspTo}}"
							},
							{
								"key": "Ssp-InteractionID",
								"type": "text",
								"value": "{{sspInteractionId}}"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Invalid Ssp-From",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"type": "text",
								"value": "{{sspTraceId}}"
							},
							{
								"key": "Ssp-From",
								"type": "text",
								"value": "0000"
							},
							{
								"key": "Ssp-To",
								"type": "text",
								"value": "{{sspTo}}"
							},
							{
								"key": "Ssp-InteractionID",
								"type": "text",
								"value": "{{sspInteractionId}}"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Invalid Ssp-To",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"type": "text",
								"value": "{{sspTraceId}}"
							},
							{
								"key": "Ssp-From",
								"type": "text",
								"value": "{{sspFrom}}"
							},
							{
								"key": "Ssp-To",
								"type": "text",
								"value": "0000"
							},
							{
								"key": "Ssp-InteractionID",
								"type": "text",
								"value": "{{sspInteractionId}}"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Invalid Ssp-InteractionID",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"type": "text",
								"value": "{{sspTraceId}}"
							},
							{
								"key": "Ssp-From",
								"type": "text",
								"value": "{{sspFrom}}"
							},
							{
								"key": "Ssp-To",
								"type": "text",
								"value": "{{sspTo}}"
							},
							{
								"key": "Ssp-InteractionID",
								"type": "text",
								"value": "0000"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Bad JWT",
			"item": [
				{
					"name": "No iss",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwtNoIss}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "No sub",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwtNoSub}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "No aud",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwtNoAud}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "No exp",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwtNoExp}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "No iat",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwtNoIat}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "No requesting_user",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwtNoRequestingUser}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"type": "text",
								"value": "{{sspTraceId}}"
							},
							{
								"key": "Ssp-From",
								"type": "text",
								"value": "{{sspFrom}}"
							},
							{
								"key": "Ssp-To",
								"type": "text",
								"value": "{{sspTo}}"
							},
							{
								"key": "Ssp-InteractionID",
								"type": "text",
								"value": "{{sspInteractionId}}"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "No reason_for_request",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwtNoReasonForRequest}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "No scope",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwtNoScope}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "No requesting_system",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwtNoRequestingSystem}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "No requesting_organization",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwtNoRequestingOrganization}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "IssuedInFuture",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwtIssuedInFuture}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "ExpiryOver5Mins",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwtExpiryOver5Mins}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "IssuedAfterExpiry",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwtIssuedAfterExpiry}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "SubNotRequestingUser",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwtSubNotRequestingUser}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "SubNotRequestingSystem",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwtSubNotRequestingSystem}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "ReasonForRequest",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwtReasonForRequest}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Scope",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwtScope}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "RequestingSystemFormat",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwtRequestingSystemFormat}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "RequestingOrganizationFormat",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ac21eda-c29c-4161-90d4-e9cd1bb21c2e",
								"exec": [
									"pm.test(\"response is BadRequest\", () => {",
									"    pm.response.to.have.status(400);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwtRequestingOrganizationFormat}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Ssp-TraceID",
								"value": "{{sspTraceId}}",
								"type": "text"
							},
							{
								"key": "Ssp-From",
								"value": "{{sspFrom}}",
								"type": "text"
							},
							{
								"key": "Ssp-To",
								"value": "{{sspTo}}",
								"type": "text"
							},
							{
								"key": "Ssp-InteractionID",
								"value": "{{sspInteractionId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{mockSspEndpoint}}/{{path}}",
							"host": [
								"{{mockSspEndpoint}}"
							],
							"path": [
								"{{path}}"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{jwt}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "755492cf-027e-4e96-aca8-88b2712cc694",
				"type": "text/javascript",
				"exec": [
					"/* ",
					" * modified from https://gist.github.com/corbanb/db03150abbe899285d6a86cc480f674d",
					" */",
					"",
					"const base64url = source => {",
					"    // Encode in classical base64",
					"    encodedSource = CryptoJS.enc.Base64.stringify(source);",
					"",
					"    // Remove padding equal characters",
					"    encodedSource = encodedSource.replace(/=+$/, '');",
					"",
					"    // Replace characters according to base64url specifications",
					"    encodedSource = encodedSource.replace(/\\+/g, '-');",
					"    encodedSource = encodedSource.replace(/\\//g, '_');",
					"",
					"    return encodedSource;",
					"};",
					"",
					"const header = {",
					"    \"alg\": \"none\",",
					"    \"typ\": \"JWT\"",
					"};",
					"",
					"const now = Math.floor(Date.now() / 1000);",
					"const in5Minutes = now + 5 * 60;",
					"",
					"const _payload = {",
					"    iss: 'https://cas.nhs.uk',",
					"    sub: 'https://fhir.nhs.uk/Id/sds-role-profile-id|4387293874928',",
					"    aud: 'https://clinicals.spineservices.nhs.uk',",
					"    reason_for_request: 'directcare',",
					"    scope: 'patient/*.read',",
					"    requesting_system: 'https://fhir.nhs.uk/Id/accredited-system|200000000205',",
					"    requesting_user: 'https://fhir.nhs.uk/Id/sds-role-profile-id|4387293874928',",
					"    requesting_organization: 'https://fhir.nhs.uk/Id/ods-organization-code|12345',",
					"    iat: now,",
					"    exp: in5Minutes",
					"};",
					"",
					"const makeJwt = (payloadUpdates = {}) => {",
					"    // encode header",
					"    const stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
					"    const encodedHeader = base64url(stringifiedHeader);",
					"",
					"    // encode data",
					"    const payload = JSON.parse(JSON.stringify(_payload));",
					"    Object.entries(payloadUpdates).forEach(([k, v]) => {",
					"        if (typeof v === 'undefined') {",
					"            delete payload[k];",
					"        } else {",
					"            payload[k] = v;",
					"        }",
					"    });",
					"",
					"    const stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
					"    const encodedPayload = base64url(stringifiedPayload);",
					"",
					"    // build token",
					"    const token = encodedHeader + \".\" + encodedPayload;",
					"",
					"    // sign token",
					"    return token + \".\";",
					"};",
					"",
					"pm.variables.set('jwt', makeJwt());",
					"",
					"pm.variables.set('jwtNoIss', makeJwt({ iss: undefined }));",
					"pm.variables.set('jwtNoSub', makeJwt({ sub: undefined }));",
					"pm.variables.set('jwtNoAud', makeJwt({ aud: undefined }));",
					"pm.variables.set('jwtNoReasonForRequest', makeJwt({ reason_for_request: undefined }));",
					"pm.variables.set('jwtNoScope', makeJwt({ scope: undefined }));",
					"pm.variables.set('jwtNoRequestingSystem', makeJwt({ requesting_system: undefined }));",
					"pm.variables.set('jwtNoRequestingOrganization', makeJwt({ requesting_organization: undefined }));",
					"pm.variables.set('jwtNoIat', makeJwt({ iat: undefined }));",
					"pm.variables.set('jwtNoExp', makeJwt({ exp: undefined }));",
					"",
					"pm.variables.set('jwtNoRequestingUser', makeJwt({ // still valid",
					"    requesting_user: undefined,",
					"    sub: _payload.requesting_system",
					"}));",
					"",
					"pm.variables.set('jwtIssuedInFuture', makeJwt({",
					"    iat: _payload.iat + 10000,",
					"    exp: _payload.exp + 10000,",
					"}));",
					"",
					"pm.variables.set('jwtExpiryOver5Mins', makeJwt({",
					"    exp: _payload.exp + 10000",
					"}));",
					"",
					"pm.variables.set('jwtIssuedAfterExpiry', makeJwt({",
					"    iat: _payload.iat + 20000,",
					"    exp: _payload.iat + 10000",
					"}));",
					"",
					"pm.variables.set('jwtSubNotRequestingUser', makeJwt({",
					"    sub: _payload.requesting_system",
					"}));",
					"",
					"pm.variables.set('jwtSubNotRequestingSystem', makeJwt({",
					"    requesting_user: undefined,",
					"    sub: _payload.requesting_user",
					"}));",
					"",
					"pm.variables.set('jwtReasonForRequest', makeJwt({",
					"    reason_for_request: '0000'",
					"}));",
					"",
					"pm.variables.set('jwtScope', makeJwt({",
					"    scope: '0000'",
					"}));",
					"",
					"pm.variables.set('jwtRequestingSystemFormat', makeJwt({",
					"    requesting_system: '0000'",
					"}));",
					"",
					"pm.variables.set('jwtRequestingOrganizationFormat', makeJwt({",
					"    requesting_organization: '0000'",
					"}));",
					"",
					"/*",
					" * endpoint format stuff",
					" */",
					"",
					"const barePath = \"api/patients/1/records/sample.json\";",
					"const providerUrl = `https://provider1.example.com/${barePath}`;",
					"const sspPath = encodeURIComponent(providerUrl);",
					"",
					"const path = pm.environment.get('ENV_NAME') === 'LOCAL'",
					"    ? sspPath",
					"    : barePath;",
					"",
					"const pathWithExtension = ext => path.replace(/\\.json$/, `.${ext}`);",
					"",
					"pm.variables.set('path', path);",
					"pm.variables.set('xmlPath', pathWithExtension('xml'));",
					"pm.variables.set('pdfPath', pathWithExtension('pdf'));",
					"pm.variables.set('htmlPath', pathWithExtension('html'));",
					"",
					"// console.log(pm.variables.get('jwt'));",
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "8d7c23c6-f22e-4723-9418-9058cde29df1",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"protocolProfileBehavior": {}
}